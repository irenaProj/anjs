<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript - Summary Material | Live to Learn</title>
    <link rel="stylesheet" href="/stylesheets/app.css" />
    <script src="/js/modernizr.js"></script>

    <!--        SyntaxHighlight-->
    <!-- Include required JS files -->
    <script type="text/javascript" src="/js/sintaxHighlighter/shCore.js"></script>

    <!--
            At least one brush. You need to include a brush for every
            language you want to highlight
        -->
    <script type="text/javascript" src="/js/sintaxHighlighter/shBrushJScript.js"></script>
    <script type="text/javascript" src="/js/sintaxHighlighter/shBrushXml.js"></script>
</head>

<body>
    <div class="menu-row">
        <div class="row">
            <div class="large-12 menu">
                <nav>
                    <!-- container -->
                    <div class="flat-mega-menu">
                        <!-- flat-mega-menu class -->

                        <label for="mobile-button">&#9776;</label>
                        <!-- mobile click button to show menu -->
                        <input id="mobile-button" type="checkbox">

                        <ul class="collapse">
                            <!-- collapse class for collapse the drop down -->
                            <li class="title">
                                <a href=""></a>
                            </li>

                            <li> <a href="#">Study &amp; Practice</a>

                                <div class="drop-down full-width hover-fade">
                                    <!-- full width drop down with 4 columns -->

                                    <ul>
                                        <!-- column one -->
                                        <li><span class="menu-heading">HTML</span>
                                        </li>
                                        <li> <a href="/html/html-main.html">Learning Material</a> </li>
                                        <li> <a href="/html/html-exercises.html">Exercises</a> </li>
                                        <li><span class="menu-heading">CSS</span>
                                        </li>
                                        <li> <a href="/css/css-main.html">Learning Material</a> </li>
                                        <li> <a href="/css/css-exercises.html">Exercises</a> </li>
                                    </ul>

                                    <ul>
                                        <!-- column two -->
                                        <li><span class="menu-heading">Less</span>
                                        </li>
                                        <li> <a href="/less/less-main.html">Learning Material</a> </li>
                                        <li> <a href="/less/less-exercises.html">Exercises</a> </li>
                                        <li><span class="menu-heading">Sass</span>
                                        </li>
                                        <li> <a href="/sass/sass-main.html">Learning Material</a> </li>
                                        <li> <a href="/sass/sass-exercises.html">Exercises</a> </li>
                                    </ul>

                                    <ul>
                                        <!-- column three -->
                                        <li><span class="menu-heading">JavaScript</span>
                                        </li>
                                        <li> <a href="/javascript/javascript-main.html">Learning Material</a> </li>
                                        <li> <a href="/javascript/javascript-exercises.html">Exercises</a> </li>
                                        <li><span class="menu-heading">jQuery</span>
                                        </li>
                                        <li> <a href="/jquery/jquery-main.html">Learning Material</a> </li>
                                        <li> <a href="/jquery/jquery-exercises.html">Exercises</a> </li>
                                    </ul>

                                    <ul>
                                        <!-- column four -->
                                        <li><span class="menu-heading">AngularJS</span>
                                        </li>
                                        <li> <a href="/angularjs/angularjs-main.html">Learning Material</a> </li>
                                        <li> <a href="/angularjs/angularjs-exercises.html">Exercises</a> </li>
                                        <li><span class="menu-heading">Node.js</span>
                                        </li>
                                        <li> <a href="/node/node-main.html">Learning Material</a> </li>
                                        <li> <a href="/node/node-exercises.html">Exercises</a> </li>
                                    </ul>

                                </div>
                            </li>
                            <li> <a href="/qa-data/qa-main.html">Q &amp; A</a>
                            </li>
                        </ul>

                    </div>
                    <!-- container end -->
                </nav>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="small-12 columns end">
            <h1 class="text-center">JavaScript Summary Materials</h1>
            <p>
                Used sources:
                <ul>
                    <li>Mozilla Developer Network, JavaScript Reference, see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">here</a> </li>
                    <li>JavaScript: The Definitive Guide, 6th ed., by David Flanagan, publisher: O'Reilly Media., see <a href="http://shop.oreilly.com/product/9780596805531.do">here</a> </li>
                </ul>
            </p>
        </div>
    </div>
    <div class="row anjs-page">
        <div class="small-12 medium-4 columns end">
            <div class="row">
                <div id="page-content" class="small-12 columns end">
                    <div id="page-content-title">Content</div>
                </div>
            </div>
        </div>
        <div class="small-12 medium-8 columns end">
            <section>
                <h2>JavaSript Functions</h2>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <h3>Function Declaration vs. Definition</h3> Example of function declaration:

                            <pre class="brush: js">
                        function plus(x, y) {
                            var sum = x + y;

                            return sum;
                        }
                    </pre> Example of function definition:

                            <pre class="brush: js">
                        var plus = function(x, y) {
                            var sum = x + y;

                            return sum;
                        }

                        // or
                        var plus = function(x, y) {
                            var sum = x + y;

                            return sum;
                        };

                        plus(3, 4);

                        // immediate invocations
                        var plus = function(x, y) {
                            var sum = x + y;

                            return sum;
                        }(3,4);
                    </pre>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <h3>Function Invocation</h3> When function is invoked it receives
                            <tt>arguments</tt> and
                            <tt>this</tt> parameters.
                            <p>
                                Function can be invoked as following:
                                <ul>
                                    <li>
                                        Function.
                                        <tt>this</tt> points to the global window object.
                                        <pre class="brush: js">
                                    function plus(x, y) {
                                        var sum = x + y;

                                        return sum;
                                    }

                                    plus(3, 4);
                                </pre>
                                    </li>
                                    <li>
                                        Method of an object.
                                        <tt>this</tt> points to the object invoking the function.

                                        <pre class="brush: js">
                                    var arr = [1,2,3,4];

                                    arr.splice(1, 1);
                                </pre>
                                    </li>
                                    <li>
                                        Constructor invocation. By closure property,
                                        <tt>this</tt> object in constructor points to the created object.

                                        <pre class="brush: js">
                                    function Tree(name) {
                                        this.name = name;

                                        console.dir(this);
                                    }

                                    var theTree = new Tree('Gumtree');
                                </pre>
                                    </li>
                                    <li>
                                        <tt>call</tt> or
                                        <tt>apply</tt> method. Provides indirect invocation,
                                        <tt>this</tt> and
                                        <tt>arguments</tt> can be defined.
                                        <p>
                                            The
                                            <tt>call()</tt> method calls a function with a given this value and arguments provided individually.
                                            <br /> The
                                            <tt>apply()</tt> method calls a function with a given this value and arguments provided as an array (or an array-like object).
                                            <br /> Note:
                                            <tt>call()</tt> accepts an argument list, while
                                            <tt>apply()</tt> accepts a single array of arguments.
                                        </p>

                                        <pre class="brush: js">
                                    var animals = [
                                      { species: 'Lion', name: 'King' },
                                      { species: 'Whale', name: 'Fail' }
                                    ];

                                    for (var i = 0; i < animals.length; i++) {
                                      (function(i) {
                                        this.print = function() {
                                          console.log('#' + i + ' ' + this.species
                                                      + ': ' + this.name);
                                        }
                                        this.print();
                                      }).call(animals[i], i);
                                    }                                
                                </pre>
                                    </li>
                                    <li>
                                        Function expression (anonymous closure).

                                        <pre class="brush: js">
                                    (function() {
                                        console.log("self-executie... ");
                                    })();
                                </pre>
                                    </li>
                                </ul>
                            </p>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <h3>Prototype Inheritance</h3>
                            <pre class="brush: js">
                        function Graph() {
                          this.vertices = [];
                          this.edges = [];
                        }

                        Graph.prototype = {
                          addVertex: function(v){
                            this.vertices.push(v);
                          }
                        };

                        var g = new Graph;
                        g.addVertex(1);
                        g.addVertex(2);

                        console.dir(g);          

                        /*
                            Console shows:
                              Graph
                                  edges: Array[0]
                                  vertices: Array[2]
                                      0: 1
                                      1: 2
                                      length: 2
                                      __proto__: Array[0]
                                  __proto__: Object
                                      addVertex: function (v){
                                      __proto__: Object                           
                        */          
                    </pre>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <h3>Scope and Hoisting</h3> Variables defined anywhere in the function are valid in the function and child functions as well.
                            <p>
                                When referenced variables are searched for up the scope chain.
                            </p>
                            <p>
                                Variables declarations are hoisted to the function start - even though variable was declared down the code, when function executes declaration is hoisted to the function start. However, variable value is assigned at the same point as in code.
                                <pre class="brush: js">
                            var str = "global string";

                            (function() {
                                console.log(str);

                                var str = "local string";
                            })();

                            // prints: undefined
                        </pre> Functions definitions are also hoisted.
                            </p>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <h3>Closure</h3> A closure is an inner function - special kind of object that combines two things: a function, and the environment in which that function was created. The environment consists of any local variables that were in-scope at the time that the closure was created.

                            <pre class="brush: js">
                        function Counter(initVal) {
                            var counter = initVal;

                            return {
                                increment: function() { ++counter; },
                                reset: function() { counter = initVal; },
                                val: function() { return counter; }
                            };
                        }

                        var counter1 = new Counter(1);
                        var counter2 = new Counter(0);

                        counter1.increment(); // 2
                        counter1.increment(); // 3

                        counter2.increment(); // 1
                        counter2.increment(); // 2

                        counter1.reset(); // 1
                    </pre>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <h3>Modules and Namespaces</h3> Modules are created via immediately invoked functions expressions. Basic module is:
                            <pre class="brush: js">
                        (function () {
                            // module code
                        })();
                    </pre> Module allows creating an object-oriented approach by hiding internal implementation details and exposing an interface. Below module is a namespace, since it is accessed via Module variable.

                            <pre class="brush: js">
                        var Module = (function () {

                            var privateMethod = function (message) {
                                console.log(message);
                            };

                            var publicMethod = function (text) {
                                privateMethod(text);
                            };

                            var anotherPublicMethod = function (text) {
                                // function body
                            };

                            return {
                                publicMethod: publicMethod,
                                anotherPublicMethod: anotherPublicMethod
                            };

                        })();

                        // Example of passing data into a private method
                        // the private method will then print the input string
                        Module.publicMethod('Thanks, Module');
                    </pre>

                            <h4>Module Augmentation</h4>
                            <pre class="brush: js">
                        var ModuleTwo = (function (Module) {
                            
                            Module.extension = function () {
                                // another method!
                            };
                            
                            return Module;
                            
                        })(Module || {});
                    </pre>

                            <h4>Asynchronous Module Definition (AMD)</h4> From Wiki: is a JavaScript specification that defines an API for defining code modules and their dependencies, and loading them asynchronously if desired. The AMD specification is implemented by JavaScript libraries such as RequireJS or ScriptManJS.
                        </p>
                    </div>
                </div>
            </section>
            <section>
                <h2><tt>this</tt> Object</h2>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            For full text see <a href="http://javascriptissexy.com/understand-javascripts-this-with-clarity-and-master-it/">"Understand JavaScript’s “this” With Clarity, and Master It"</a> article.
                            <br />
                            <br /> Every time function in JS executes, it gets
                            <tt>this</tt> as hidden argument - value of object that invoked the function.

                            <pre class="brush: js">
                                $("button").click (function(event) {
                                    console.log ($(this).prop ("name"));
                                });
                            </pre> 
                            In some situation use of <tt>this</tt> is more tricky:
                            <ul>
                                <li>When method using this is passed as a callback:

                                    <pre class="brush: js">
                                        var user = {
                                            data:[
                                                {name:"T. Woods", age:37},
                                                {name:"P. Mickelson", age:43}
                                            ],
                                            clickHandler:function (event) {
                                                var randomNum = ((Math.random () * 2 | 0) + 1) - 1; // random number between 0 and 1​
                                            ​
                                                // This line is printing a random person's name and age from the data array​
                                                console.log (this.data[randomNum].name + " " + this.data[randomNum].age);
                                            }
                                        }
                                        ​
                                        // The button is wrapped inside a jQuery $ wrapper, so it is now a jQuery object​
                                        // And the output will be undefined because there is no data property on the button object​
                                        $ ("button").click (user.clickHandler); // Cannot read property '0' of undefined
                                    </pre> 

                                    Solution: bind the user object to clickHandler method using <tt>bind()</tt>.

                                    <pre class="brush: js">
                                         $("button").click (user.clickHandler.bind (user));
                                    </pre>
                                </li>
                                <li>
                                    When <tt>this</tt> is used inside a closure:
                                    <pre class="brush: js">
                                        var user = {
                                            tournament:"The Masters",
                                            data: [
                                                    {name:"T. Woods", age:37},
                                                    {name:"P. Mickelson", age:43}],
                                        ​
                                            clickHandler:function () {
                                                // the use of this.data here is fine, because "this" refers to the user object, 
                                                // and data is a property on the user object.​
                                            ​
                                                this.data.forEach (function (person) {
                                                    // But here inside the anonymous function (that we pass to the forEach method), 
                                                    // "this" no longer refers to the user object.​
                                                    // This inner function cannot access the outer function's "this"​
                                                   
                                                    console.log ("What is This referring to? " + this); //[object Window]​
                                                 
                                                    console.log (person.name + " is playing at " + this.tournament);
                                                    // T. Woods is playing at undefined​
                                                    // P. Mickelson is playing at undefined​
                                                })
                                            }                           ​
                                        }
                                    ​
                                        user.clickHandler(); // What is "this" referring to? [object Window]
                                    </pre> 
                                    Solution: set the <tt>this</tt> value to another variable before entering the
                                    <tt>forEach</tt> method.
                                    <pre class="brush: js">
                                        var user = {
                                            tournament:"The Masters",
                                            data: [
                                                    {name:"T. Woods", age:37},
                                                    {name:"P. Mickelson", age:43}],
                                        ​
                                            clickHandler:function () {
                                                // To capture the value of "this" when it refers to the user object, we have to set
                                                // it to another variable here:​
                                                // We set the value of "this" to theUserObj variable, so we can use it later​
                                                var theUserObj = this;
                                                this.data.forEach (function (person) {
                                                    // Instead of using this.tournament, we now use theUserObj.tournament
                                                     console.log (person.name + " is playing at " + theUserObj.tournament);
                                                })
                                            }                           ​
                                        }
                                    ​
                                        user.clickHandler();
                                        // T. Woods is playing at The Masters​
                                        //  P. Mickelson is playing at The Masters
                                    </pre>
                                </li>
                                <li>When method is assigned to a variable:
                                    <pre class="brush: js">
                                        // This data variable is a global variable​
                                        var data = [{
                                            name: "Samantha",
                                            age: 12
                                        }, {
                                            name: "Alexis",
                                            age: 14
                                        }];​
                                        var user = {
                                                // this data variable is a property on the user object​
                                                data: [{
                                                    name: "T. Woods",
                                                    age: 37
                                                }, {
                                                    name: "P. Mickelson",
                                                    age: 43
                                                }],
                                                showData: function(event) {
                                                    var randomNum = ((Math.random() * 2 | 0) + 1) - 1; // random number between 0 and 1​
                                                    ​
                                                    // This line is adding a random person from the data array to the text field​
                                                    console.log(this.data[randomNum].name + " " + this.data[randomNum].age);
                                                }​
                                            }​
                                            
                                        // Assign the user.showData to a variable​
                                        var showUserData = user.showData;​
                                        // When we execute the showUserData function, the values printed to the console are 
                                        // from the global data array, not from the data array in the user object​
                                        showUserData(); // Samantha 12 (from the global data array)​
                                    </pre> 
                                    Solution: set the <tt>this</tt> value with the bind method
                                    <pre class="brush: js">
                                        // Bind the showData method to the user object​
                                        var showUserData = user.showData.bind (user);
                                        ​
                                        // Now we get the value from the user object, because 
                                        // the this keyword is bound to the user object​
                                        showUserData (); // P. Mickelson 43                            
                                    </pre>
                                </li>
                                <li>
                                    When borrowing methods:

                                    <pre class="brush: js">
                                         // We have two objects. One of them has a method called avg () that the 
                                         // other doesn't have​, so we will borrow the avg() method​
                                         var gameController = {
                                             scores: [20, 34, 55, 46, 77],
                                             avgScore: null,
                                             players: [{
                                                 name: "Tommy",
                                                 playerID: 987,
                                                 age: 23
                                             }, {
                                                 name: "Pau",
                                                 playerID: 87,
                                                 age: 33
                                             }]
                                         }​
                                         var appController = {
                                                 scores: [900, 845, 809, 950],
                                                 avgScore: null,
                                                 avg: function() {​
                                                     var sumOfScores = this.scores.reduce(function(prev, cur, index, array) {
                                                            return prev + cur; 
                                                        });​
                                                     this.avgScore = sumOfScores / this.scores.length;
                                                 }
                                             }​

                                        // If we run the code below,​ the gameController.avgScore property will be set
                                        // to the average score from the appController object "scores" array​

                                         // Don't run this code, for it is just for illustration; we want the appController.avgScore to remain null​
                                         gameController.avgScore = appController.avg();
                                    </pre> 
                                    Solution: to make sure that this inside the appController.avg () method refers to gameController, use the apply () method.
                                    <pre class="brush: js">    ​
// Note that we are using the apply () method, so the 2nd argument 
// has to be an array—the arguments to pass to the appController.avg () method.​
appController.avg.apply(gameController, gameController.scores);

// The avgScore property was successfully set on the gameController object, 
// even though we borrowed the avg () method from the appController object​
console.log(gameController.avgScore); // 46.4​

// appController.avgScore is still null; it was not updated, only 
// gameController.avgScore was updated​
console.log (appController.avgScore); // null                            
                                    </pre>
                                </li>
                            </ul>
                        </p>
                    </div>
                </div>
            </section>
            <section>
                <h2>Classes</h2>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            <tt>prototype</tt> property of the constructor becomes the prototype of the object created using the constructor. Class inherits properties from its prototype. The instance methods of a class are defined as properties of the prototype object.
                            <pre class="brush: js">
                        function BaseClass(var1){
                            this.baseField = var1;
                        }
                        
                        BaseClass.prototype.func1 = function f1(){...};
                        BaseClass.prototype.func2 = function f2(p){...};

                        var v = new BaseClass(1);
                        v.func1();
                    </pre> Inheritance is achieved as following:
                            <pre class="brush: js">
                        function MyClass(var1, var2){
                            this.myField1 = var1;
                            this.myField2 = var2;
                        }
                        MyClass.prototype = new BaseClass(3);

                        var v = new MyClass(1, 2);
                        v.baseField; // 3
                    </pre> or as following:
                            <pre class="brush: js">
                        function MyClass(var1, var2){
                            this.base = BaseClass;
                            this.base(3);

                            this.myField1 = var1;
                            this.myField2 = var2;
                        }

                        var v = new MyClass(1, 2);
                        v.baseField; // 3
                    </pre> or as following:
                            <pre class="brush: js">
                        MyClass.prototype = inherit(BaseClass.prototype); 
                        MyClass.prototype.constructor = MyClass; // Override the inherited constructor property
                    </pre> JS inheritance is dynamic, properties are inherited from the prototype even when created after the inheritance event.
                            <pre class="brush: js">
                        BaseClass.prototype.newFunc = function another(){};
                    </pre>

                            <code>v instanceof BaseClass</code> operator returns
                            <tt>true</tt>, since
                            <tt>v</tt> inherits from
                            <tt>BaseClass</tt>. Similarly,
                            <tt>isPrototypeOf</tt>
                            tests for an object in another object's prototype chain:
                            <pre class="brush: js">
                        if (Fi.prototype.isPrototypeOf(fum)) {
                            // do something safe
                        }
                    </pre>
                        </p>
                    </div>
                </div>
            </section>
            <section>
                <h2>Property Inheritance</h2>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            JS object inherit properties from their prototypes. Property is searched up the prototyping chain: if the object does not have it, look in its prototype. Property assignment/deletion affects the object itself, but not its prototypes.
                            <tt>hasOwnProperty()</tt> return true if the object has a specified property (not its prototypes).
                            <tt>defineProperty()/defineProperties()</tt> can be used to define/update an object property with specific parameters.
                        </p>
                    </div>
                </div>
            </section>
            <section>
                <h2>Cookies</h2>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            Resource <a href="http://www.tutorialspoint.com/javascript/javascript_cookies.htm">link</a>.
                            <br/>
                            <br/> Cookies is the an efficient method tracking users or their preferences, settings or history. Cookies are a plain text data record of 5 variable-length fields:
                            <ul>
                                <li>Expires : The date the cookie will expire. If this is blank, the cookie will expire when the visitor quits the browser.</li>
                                <li>Domain : The domain name of your site.</li>
                                <li>Path : The path to the directory or web page that set the cookie. This may be blank if you want to retrieve the cookie from any directory or page.</li>
                                <li>Secure : If this field contains the word "secure" then the cookie may only be retrieved with a secure server. If this field is blank, no such restriction exists.</li>
                                <li>Name=Value : Cookies are set and retrieved in the form of key and value pairs.</li>
                            </ul>
                            Cookie can be set through the document.cookie object:
                            <pre class="brush: js">
                        document.cookie = "key1=value1;key2=value2;expires=date";
                    </pre>
                        </p>
                    </div>
                </div>
            </section>
            <section>
                <h2>Regular Expressions</h2>
                <div class="row">
                    <div class="columns torn-page-large-section">
                        <p>
                            Regular expression can be defined as following:
                            <pre class="brush: js">
                        var pattern = new RegExp(pattern, attributes);
                        // or
                        var pattern = /pattern/attributes;
                    </pre> Attribute specify global, case-insensitive, and multiline options.
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="/js/jquery-2.1.3.min.js"></script>
    <script src="/bower_components/foundation/js/foundation.min.js"></script>
    <script src="/js/app.js"></script>
    <script src="/js/toc.js"></script>

    <!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
    <script type="text/javascript">
    SyntaxHighlighter.all();
    </script>
</body>

</html>
